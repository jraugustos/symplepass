<!--
  SELECT COMPONENT - shadcn/ui style adapted for Symplepass
  Pixel-perfect custom select with dropdown
-->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select Component</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../../tailwind.config.js"></script>
  <link rel="stylesheet" href="../../globals.css">
</head>
<body class="p-8 bg-neutral-50">

  <!-- Select Component Examples -->
  <div class="space-y-8 max-w-4xl mx-auto">

    <h2 class="text-2xl font-semibold font-geist">Select Component</h2>

    <!-- Basic Select -->
    <section>
      <h3 class="text-lg font-medium mb-4 font-geist">Basic Select</h3>
      <div class="space-y-4 max-w-sm">

        <!-- Default Select -->
        <div class="select-wrapper">
          <select class="select">
            <option value="">Selecione uma categoria</option>
            <option value="festival">Festival</option>
            <option value="show">Show</option>
            <option value="teatro">Teatro</option>
            <option value="esporte">Esporte</option>
            <option value="workshop">Workshop</option>
          </select>
          <svg class="select-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </div>

        <!-- Select with Label -->
        <div class="form-group">
          <label class="form-label">Cidade</label>
          <div class="select-wrapper">
            <select class="select">
              <option value="">Escolha a cidade</option>
              <option value="sp">São Paulo</option>
              <option value="rj">Rio de Janeiro</option>
              <option value="bh">Belo Horizonte</option>
              <option value="ctba">Curitiba</option>
            </select>
            <svg class="select-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </div>
        </div>

      </div>
    </section>

    <!-- Custom Dropdown (JavaScript) -->
    <section>
      <h3 class="text-lg font-medium mb-4 font-geist">Custom Dropdown</h3>
      <div class="space-y-4 max-w-sm">

        <!-- Custom Select Dropdown -->
        <div class="custom-select" data-value="">
          <button class="custom-select-trigger" aria-expanded="false">
            <span class="custom-select-value">Ordenar por</span>
            <svg class="custom-select-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </button>
          <div class="custom-select-dropdown">
            <div class="custom-select-option" data-value="relevance">
              <span>Relevância</span>
            </div>
            <div class="custom-select-option" data-value="date-asc">
              <span>Data (mais próxima)</span>
            </div>
            <div class="custom-select-option" data-value="date-desc">
              <span>Data (mais distante)</span>
            </div>
            <div class="custom-select-option" data-value="price-asc">
              <span>Preço (menor)</span>
            </div>
            <div class="custom-select-option" data-value="price-desc">
              <span>Preço (maior)</span>
            </div>
          </div>
        </div>

        <!-- Custom Select with Icons -->
        <div class="custom-select" data-value="">
          <button class="custom-select-trigger" aria-expanded="false">
            <span class="custom-select-value">Filtrar por status</span>
            <svg class="custom-select-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </button>
          <div class="custom-select-dropdown">
            <div class="custom-select-option" data-value="all">
              <span>Todos</span>
            </div>
            <div class="custom-select-option" data-value="available">
              <span class="option-with-icon">
                <span class="status-dot status-available"></span>
                Disponível
              </span>
            </div>
            <div class="custom-select-option" data-value="limited">
              <span class="option-with-icon">
                <span class="status-dot status-limited"></span>
                Últimas vagas
              </span>
            </div>
            <div class="custom-select-option" data-value="soldout">
              <span class="option-with-icon">
                <span class="status-dot status-soldout"></span>
                Esgotado
              </span>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- Multi-Select -->
    <section>
      <h3 class="text-lg font-medium mb-4 font-geist">Multi-Select</h3>
      <div class="max-w-sm">

        <div class="multi-select">
          <div class="multi-select-trigger">
            <div class="multi-select-values">
              <span class="multi-select-placeholder">Selecione as categorias</span>
            </div>
            <svg class="multi-select-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </div>
          <div class="multi-select-dropdown">
            <label class="multi-select-option">
              <input type="checkbox" value="festival" class="multi-select-checkbox">
              <span>Festival</span>
            </label>
            <label class="multi-select-option">
              <input type="checkbox" value="show" class="multi-select-checkbox">
              <span>Show</span>
            </label>
            <label class="multi-select-option">
              <input type="checkbox" value="teatro" class="multi-select-checkbox">
              <span>Teatro</span>
            </label>
            <label class="multi-select-option">
              <input type="checkbox" value="esporte" class="multi-select-checkbox">
              <span>Esporte</span>
            </label>
            <label class="multi-select-option">
              <input type="checkbox" value="workshop" class="multi-select-checkbox">
              <span>Workshop</span>
            </label>
          </div>
        </div>

      </div>
    </section>

    <!-- Select Sizes -->
    <section>
      <h3 class="text-lg font-medium mb-4 font-geist">Size Variants</h3>
      <div class="space-y-4 max-w-sm">

        <!-- Small -->
        <div class="select-wrapper">
          <select class="select select-sm">
            <option value="">Small Select</option>
            <option value="1">Option 1</option>
            <option value="2">Option 2</option>
          </select>
          <svg class="select-icon select-icon-sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </div>

        <!-- Default -->
        <div class="select-wrapper">
          <select class="select">
            <option value="">Default Select</option>
            <option value="1">Option 1</option>
            <option value="2">Option 2</option>
          </select>
          <svg class="select-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </div>

        <!-- Large -->
        <div class="select-wrapper">
          <select class="select select-lg">
            <option value="">Large Select</option>
            <option value="1">Option 1</option>
            <option value="2">Option 2</option>
          </select>
          <svg class="select-icon select-icon-lg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </div>

      </div>
    </section>

    <!-- Disabled State -->
    <section>
      <h3 class="text-lg font-medium mb-4 font-geist">States</h3>
      <div class="space-y-4 max-w-sm">

        <!-- Disabled -->
        <div class="select-wrapper">
          <select class="select" disabled>
            <option value="">Disabled Select</option>
          </select>
          <svg class="select-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m6 9 6 6 6-6"></path>
          </svg>
        </div>

        <!-- Error -->
        <div class="form-group">
          <label class="form-label">Período</label>
          <div class="select-wrapper">
            <select class="select select-error">
              <option value="">Selecione</option>
            </select>
            <svg class="select-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m6 9 6 6 6-6"></path>
            </svg>
          </div>
          <span class="form-error">Campo obrigatório</span>
        </div>

      </div>
    </section>

  </div>

  <!-- Component Styles -->
  <style>
    /* Form Group */
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.375rem;
    }

    .form-label {
      font-size: 0.875rem;
      font-weight: 500;
      color: #262626;
      font-family: 'Inter', sans-serif;
    }

    .form-error {
      font-size: 0.75rem;
      color: #FF3B30;
      font-family: 'Inter', sans-serif;
    }

    /* Native Select Wrapper */
    .select-wrapper {
      position: relative;
      width: 100%;
    }

    /* Native Select */
    .select {
      width: 100%;
      padding: 0.5rem 2.5rem 0.5rem 0.75rem;
      font-size: 0.875rem;
      font-family: 'Inter', sans-serif;
      color: #262626;
      background: white;
      border: 1px solid #D4D4D4;
      border-radius: 0.75rem;
      appearance: none;
      cursor: pointer;
      transition: all 200ms ease;
    }

    .select:hover:not(:disabled) {
      border-color: #A3A3A3;
    }

    .select:focus {
      outline: none;
      border-color: #FF7A00;
      box-shadow: 0 0 0 3px rgba(255, 122, 0, 0.1);
    }

    .select:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: #FAFAFA;
    }

    /* Select Sizes */
    .select-sm {
      padding: 0.375rem 2rem 0.375rem 0.625rem;
      font-size: 0.75rem;
    }

    .select-lg {
      padding: 0.625rem 3rem 0.625rem 1rem;
      font-size: 1rem;
    }

    /* Select Error State */
    .select-error {
      border-color: #FF3B30;
    }

    .select-error:focus {
      box-shadow: 0 0 0 3px rgba(255, 59, 48, 0.1);
    }

    /* Select Icon */
    .select-icon {
      position: absolute;
      top: 50%;
      right: 0.75rem;
      width: 1rem;
      height: 1rem;
      transform: translateY(-50%);
      pointer-events: none;
      color: #737373;
    }

    .select-icon-sm {
      right: 0.625rem;
      width: 0.875rem;
      height: 0.875rem;
    }

    .select-icon-lg {
      right: 1rem;
      width: 1.125rem;
      height: 1.125rem;
    }

    /* Custom Select Dropdown */
    .custom-select {
      position: relative;
      width: 100%;
    }

    .custom-select-trigger {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      font-family: 'Inter', sans-serif;
      color: #262626;
      background: white;
      border: 1px solid #D4D4D4;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 200ms ease;
    }

    .custom-select-trigger:hover {
      border-color: #A3A3A3;
    }

    .custom-select-trigger[aria-expanded="true"] {
      border-color: #FF7A00;
      box-shadow: 0 0 0 3px rgba(255, 122, 0, 0.1);
    }

    .custom-select-value {
      flex: 1;
      text-align: left;
    }

    .custom-select-arrow {
      width: 1rem;
      height: 1rem;
      color: #737373;
      transition: transform 200ms ease;
    }

    .custom-select-trigger[aria-expanded="true"] .custom-select-arrow {
      transform: rotate(180deg);
    }

    .custom-select-dropdown {
      position: absolute;
      top: calc(100% + 0.25rem);
      left: 0;
      right: 0;
      z-index: 50;
      background: white;
      border: 1px solid #D4D4D4;
      border-radius: 0.75rem;
      box-shadow: 0 4px 12px 0 rgb(0 0 0 / 0.1);
      opacity: 0;
      transform: translateY(-0.5rem);
      pointer-events: none;
      transition: all 200ms ease;
      max-height: 15rem;
      overflow-y: auto;
    }

    .custom-select[data-open] .custom-select-dropdown {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .custom-select-option {
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      font-family: 'Inter', sans-serif;
      color: #262626;
      cursor: pointer;
      transition: background 150ms ease;
    }

    .custom-select-option:hover {
      background: #FAFAFA;
    }

    .custom-select-option[data-selected] {
      background: #FFF7ED;
      color: #E56D00;
      font-weight: 500;
    }

    /* Options with Icons */
    .option-with-icon {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .status-dot {
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 9999px;
      flex-shrink: 0;
    }

    .status-available {
      background: #34C759;
    }

    .status-limited {
      background: #F59E0B;
    }

    .status-soldout {
      background: #FF3B30;
    }

    /* Multi-Select */
    .multi-select {
      position: relative;
      width: 100%;
    }

    .multi-select-trigger {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      min-height: 2.5rem;
      padding: 0.5rem 0.75rem;
      background: white;
      border: 1px solid #D4D4D4;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 200ms ease;
    }

    .multi-select-trigger:hover {
      border-color: #A3A3A3;
    }

    .multi-select-values {
      flex: 1;
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
    }

    .multi-select-placeholder {
      color: #A3A3A3;
      font-size: 0.875rem;
      font-family: 'Inter', sans-serif;
    }

    .multi-select-tag {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.125rem 0.5rem;
      font-size: 0.75rem;
      background: #F5F5F5;
      color: #525252;
      border-radius: 0.375rem;
      font-family: 'Inter', sans-serif;
    }

    .multi-select-arrow {
      width: 1rem;
      height: 1rem;
      color: #737373;
      flex-shrink: 0;
    }

    .multi-select-dropdown {
      position: absolute;
      top: calc(100% + 0.25rem);
      left: 0;
      right: 0;
      z-index: 50;
      background: white;
      border: 1px solid #D4D4D4;
      border-radius: 0.75rem;
      box-shadow: 0 4px 12px 0 rgb(0 0 0 / 0.1);
      opacity: 0;
      transform: translateY(-0.5rem);
      pointer-events: none;
      transition: all 200ms ease;
      max-height: 15rem;
      overflow-y: auto;
      padding: 0.25rem;
    }

    .multi-select[data-open] .multi-select-dropdown {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .multi-select-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem;
      font-size: 0.875rem;
      font-family: 'Inter', sans-serif;
      color: #262626;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background 150ms ease;
    }

    .multi-select-option:hover {
      background: #FAFAFA;
    }

    .multi-select-checkbox {
      width: 1rem;
      height: 1rem;
      accent-color: #FF7A00;
    }
  </style>

  <!-- JavaScript for Custom Select -->
  <script>
    // Custom Select Functionality
    document.querySelectorAll('.custom-select').forEach(select => {
      const trigger = select.querySelector('.custom-select-trigger');
      const valueElement = select.querySelector('.custom-select-value');
      const options = select.querySelectorAll('.custom-select-option');
      const defaultText = valueElement.textContent;

      // Toggle dropdown
      trigger.addEventListener('click', () => {
        const isOpen = select.hasAttribute('data-open');

        // Close all other selects
        document.querySelectorAll('.custom-select[data-open]').forEach(s => {
          if (s !== select) {
            s.removeAttribute('data-open');
            s.querySelector('.custom-select-trigger').setAttribute('aria-expanded', 'false');
          }
        });

        if (isOpen) {
          select.removeAttribute('data-open');
          trigger.setAttribute('aria-expanded', 'false');
        } else {
          select.setAttribute('data-open', '');
          trigger.setAttribute('aria-expanded', 'true');
        }
      });

      // Option selection
      options.forEach(option => {
        option.addEventListener('click', () => {
          const value = option.getAttribute('data-value');
          const text = option.textContent.trim();

          // Update selected state
          options.forEach(opt => opt.removeAttribute('data-selected'));
          option.setAttribute('data-selected', '');

          // Update trigger text
          valueElement.textContent = text;
          select.setAttribute('data-value', value);

          // Close dropdown
          select.removeAttribute('data-open');
          trigger.setAttribute('aria-expanded', 'false');
        });
      });
    });

    // Multi-Select Functionality
    document.querySelectorAll('.multi-select').forEach(select => {
      const trigger = select.querySelector('.multi-select-trigger');
      const valuesContainer = select.querySelector('.multi-select-values');
      const placeholder = select.querySelector('.multi-select-placeholder');
      const checkboxes = select.querySelectorAll('.multi-select-checkbox');

      // Toggle dropdown
      trigger.addEventListener('click', (e) => {
        if (!e.target.closest('.multi-select-tag')) {
          const isOpen = select.hasAttribute('data-open');

          if (isOpen) {
            select.removeAttribute('data-open');
          } else {
            select.setAttribute('data-open', '');
          }
        }
      });

      // Handle checkbox changes
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', () => {
          updateMultiSelectValues();
        });
      });

      function updateMultiSelectValues() {
        const selected = Array.from(checkboxes)
          .filter(cb => cb.checked)
          .map(cb => ({
            value: cb.value,
            text: cb.nextElementSibling.textContent.trim()
          }));

        if (selected.length === 0) {
          placeholder.style.display = 'block';
        } else {
          placeholder.style.display = 'none';

          // Clear existing tags
          valuesContainer.querySelectorAll('.multi-select-tag').forEach(tag => tag.remove());

          // Add new tags
          selected.forEach(item => {
            const tag = document.createElement('span');
            tag.className = 'multi-select-tag';
            tag.innerHTML = `
              ${item.text}
              <button type="button" data-value="${item.value}" style="background: none; border: none; padding: 0; margin-left: 0.25rem; cursor: pointer;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 6L6 18M6 6l12 12"></path>
                </svg>
              </button>
            `;
            valuesContainer.appendChild(tag);

            // Handle tag removal
            tag.querySelector('button').addEventListener('click', (e) => {
              e.stopPropagation();
              const value = e.currentTarget.getAttribute('data-value');
              const checkbox = select.querySelector(`input[value="${value}"]`);
              if (checkbox) {
                checkbox.checked = false;
                updateMultiSelectValues();
              }
            });
          });
        }
      }
    });

    // Close dropdowns on outside click
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.custom-select') && !e.target.closest('.multi-select')) {
        document.querySelectorAll('.custom-select[data-open]').forEach(select => {
          select.removeAttribute('data-open');
          select.querySelector('.custom-select-trigger').setAttribute('aria-expanded', 'false');
        });
        document.querySelectorAll('.multi-select[data-open]').forEach(select => {
          select.removeAttribute('data-open');
        });
      }
    });
  </script>

</body>
</html>